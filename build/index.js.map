{"version":3,"file":"index.js","sourceRoot":"","sources":["../src/index.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,2BAA2B,EAAE,MAAM,mBAAmB,CAAC;AAmFhE,MAAM,YAAY,GAChB,2BAA2B,CAA0B,mBAAmB,CAAC,CAAC;AAE5E,eAAe,YAAY,CAAC","sourcesContent":["import { requireOptionalNativeModule } from 'expo-modules-core';\n\nimport type {\n  ConnectOptions,\n  PurchaseOptions,\n  PurchaseResult,\n  SkuDetails,\n} from './CafeBazaarBilling.types';\n\nexport type {\n  ConnectOptions,\n  PurchaseOptions,\n  PurchaseResult,\n  SkuDetails,\n} from './CafeBazaarBilling.types';\n\nexport interface CafeBazaarBillingModule {\n  /**\n   * Connect to Cafe Bazaar billing service. Call this before any other billing API.\n   * For each connect() call you must call disconnect() when done.\n   * @param options - Optional RSA public key for purchase verification\n   */\n  connect(options?: ConnectOptions): Promise<void>;\n\n  /**\n   * Disconnect from Cafe Bazaar billing service.\n   */\n  disconnect(): Promise<void>;\n\n  /**\n   * Purchase a consumable or non-consumable in-app product.\n   * Opens the Bazaar payment flow.\n   */\n  purchaseProduct(\n    productId: string,\n    options?: PurchaseOptions\n  ): Promise<PurchaseResult>;\n\n  /**\n   * Subscribe to a subscription product.\n   * Opens the Bazaar payment flow.\n   */\n  subscribeProduct(\n    productId: string,\n    options?: PurchaseOptions\n  ): Promise<PurchaseResult>;\n\n  /**\n   * Consume a consumable purchase. Call this after granting the user the product.\n   */\n  consumePurchase(purchaseToken: string): Promise<void>;\n\n  /**\n   * Get all purchased products for the current user (in-app one-time purchases).\n   */\n  getPurchasedProducts(): Promise<PurchaseResult[]>;\n\n  /**\n   * Get all active subscriptions for the current user.\n   */\n  getSubscribedProducts(): Promise<PurchaseResult[]>;\n\n  /**\n   * Query a specific purchase by product ID.\n   */\n  queryPurchaseProduct(productId: string): Promise<PurchaseResult | null>;\n\n  /**\n   * Query a specific subscription by product ID.\n   */\n  querySubscribeProduct(productId: string): Promise<PurchaseResult | null>;\n\n  /**\n   * Get SKU details for in-app products.\n   */\n  getInAppSkuDetails(productIds: string[]): Promise<SkuDetails[]>;\n\n  /**\n   * Get SKU details for subscription products.\n   */\n  getSubscriptionSkuDetails(productIds: string[]): Promise<SkuDetails[]>;\n}\n\nconst NativeModule =\n  requireOptionalNativeModule<CafeBazaarBillingModule>('CafeBazaarBilling');\n\nexport default NativeModule;\n"]}